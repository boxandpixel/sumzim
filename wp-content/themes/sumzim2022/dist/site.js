function collapsibleAreas(){let e=document.querySelectorAll(".collapsible-area__title");if(e)for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{let s=e[t].nextElementSibling;e[t].classList.toggle("collapsible-area__title--expanded"),s.classList.toggle("collapsible-area__details--expanded")}))}function drawLineOnScroll(){let e=document.querySelector("path"),t=e.getTotalLength();window.addEventListener("scroll",(()=>{var s=(document.documentElement.scrollTop+document.body.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight),a=t*s;e.style.strokeDashoffset=t-a}))}document.addEventListener("DOMContentLoaded",(()=>{collapsibleAreas()})),document.addEventListener("DOMContentLoaded",(()=>{drawLineOnScroll()}));class ExpandableCardSlider{constructor(e){this.container=e,this.slider=e.querySelector("[data-cards-slider]"),this.modal=document.querySelector("[data-card-modal]"),this.slider&&(this.currentIndex=0,this.cards=Array.from(this.slider.children),this.totalCards=this.cards.length,this.expandedCard=null,this.expandedCardIndex=null,this.isAnimating=!1,this.prevBtn=e.querySelector("[data-prev-btn]"),this.nextBtn=e.querySelector("[data-next-btn]"),this.init())}init(){this.calculateDimensions(),this.bindEvents(),this.setupCards(),this.updateButtonStates()}calculateDimensions(){if(this.isMobile=window.innerWidth<820,this.itemsPerView=this.isMobile?1:3,this.cards.length>0)if(this.isMobile)this.itemWidth=300,this.gap=16;else{const e=this.cards.find((e=>!e.classList.contains("expanded")));if(e){this.itemWidth=e.offsetWidth;const t=window.getComputedStyle(this.slider);this.gap=parseInt(t.gap)||38}}}setupCards(){this.cards.forEach(((e,t)=>{const s=e.querySelector("[data-expand-card]"),a=e.querySelector("[data-close-card]");s&&s.addEventListener("click",(s=>{s.stopPropagation(),this.expandCard(e,t)})),a&&a.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault(),this.closeCard()}))}))}expandCard(e,t){this.isAnimating||(this.isMobile?this.openMobileModal(e):this.expandedCard&&this.expandedCard!==e?this.closeCard():(this.isAnimating=!0,this.expandedCard=e,this.expandedCardIndex=t,this.currentIndex=t,e.classList.add("expanded"),setTimeout((()=>{this.calculateDimensions(),this.updateSlider(),this.isAnimating=!1}),100)))}closeCard(){this.expandedCard&&!this.isAnimating&&(this.isAnimating=!0,this.expandedCard.classList.remove("expanded"),this.expandedCard=null,this.expandedCardIndex=null,setTimeout((()=>{this.calculateDimensions(),this.updateSlider(),this.isAnimating=!1}),100))}openMobileModal(e){if(!this.modal)return;const t=e.querySelector(".card__heading"),s=t?t.textContent:"",a=e.style.getPropertyValue("--bg-image"),n=e.querySelector(".card__description"),i=n?n.innerHTML:"",o=e.querySelector(".card__link"),r=e.querySelector(".card__main-content-statistic"),d=this.modal.querySelector("[data-modal-title]"),l=this.modal.querySelector("[data-modal-image]"),c=this.modal.querySelector("[data-modal-description]"),u=this.modal.querySelector("[data-modal-link]"),h=this.modal.querySelector("[data-modal-stats]"),m=this.modal.querySelector(".card-modal__content");if(d&&(d.textContent=s),a){const e=a.match(/url\(['"]?([^'"]+)['"]?\)/);e&&e[1]&&(l&&(l.src=e[1],l.alt=s),m&&m.style.setProperty("--bg-image",a))}c&&(c.innerHTML=i),u&&o?(u.href=o.href,u.textContent=o.textContent,u.target=o.target,u.style.display="inline-flex"):u&&(u.style.display="none"),h&&r?(h.innerHTML=r.innerHTML,h.style.display="flex"):h&&(h.style.display="none"),this.modal.classList.add("active"),document.body.style.overflow="hidden",this.setupModalClose()}setupModalClose(){if(!this.modal)return;const e=this.modal.querySelector("[data-modal-close]"),t=()=>{this.modal.classList.remove("active"),document.body.style.overflow=""};e&&e.addEventListener("click",t,{once:!0}),this.modal.addEventListener("click",(e=>{e.target===this.modal&&t()}),{once:!0});const s=e=>{"Escape"===e.key&&(t(),document.removeEventListener("keydown",s))};document.addEventListener("keydown",s)}bindEvents(){window.addEventListener("resize",(()=>this.handleResize())),this.nextBtn&&this.nextBtn.addEventListener("click",(e=>{e.preventDefault(),this.next()})),this.prevBtn&&this.prevBtn.addEventListener("click",(e=>{e.preventDefault(),this.prev()}))}handleResize(){const e=this.isMobile;this.calculateDimensions(),this.expandedCard&&this.closeCard(),e&&!this.isMobile&&this.modal&&this.modal.classList.contains("active")&&(this.modal.classList.remove("active"),document.body.style.overflow=""),e!==this.isMobile&&(this.currentIndex=0,this.updateSlider(),this.updateButtonStates())}next(){if(this.isAnimating)return;if(this.expandedCard)return void this.closeCard();const e=Math.max(0,this.totalCards-this.itemsPerView);if(this.isMobile)this.currentIndex<e&&(this.currentIndex++,this.updateSlider());else{const t=this.totalCards-this.currentIndex-this.itemsPerView;if(t>0){const s=Math.min(this.itemsPerView,t);this.currentIndex=Math.min(e,this.currentIndex+s),this.updateSlider()}}}prev(){if(!this.isAnimating)if(this.expandedCard)this.closeCard();else if(this.isMobile)this.currentIndex>0&&(this.currentIndex--,this.updateSlider());else if(this.currentIndex>0){const e=Math.min(this.itemsPerView,this.currentIndex);this.currentIndex=Math.max(0,this.currentIndex-e),this.updateSlider()}}updateSlider(){if(!this.itemWidth)return;const e=-this.currentIndex*(this.itemWidth+this.gap);this.slider.style.transform="translateX("+e+"px)",this.updateButtonStates()}updateButtonStates(){if(!this.prevBtn||!this.nextBtn)return;const e=Math.max(0,this.totalCards-this.itemsPerView);0===this.currentIndex?(this.prevBtn.classList.add("disabled"),this.prevBtn.disabled=!0):(this.prevBtn.classList.remove("disabled"),this.prevBtn.disabled=!1),this.currentIndex>=e?(this.nextBtn.classList.add("disabled"),this.nextBtn.disabled=!0):(this.nextBtn.classList.remove("disabled"),this.nextBtn.disabled=!1)}}function initExpandableCardSliders(){document.querySelectorAll("[data-expandable-slider]").forEach((e=>new ExpandableCardSlider(e)))}function backgroundContainer(){const e=document.getElementById("backgroundContainer");if(!e)return;if(window.matchMedia("(max-width: 767px)").matches)return e.parentElement.classList.add("hasImage"),e.style.backgroundImage="url('https://sumzim.com/wp-content/uploads/2024/11/home-background.webp')",void(e.style.backgroundSize="cover");const t=new PerformanceObserver((s=>{const a=s.getEntries();for(const s of a)if("largest-contentful-paint"===s.entryType){t.disconnect();const s=document.createElement("video");s.muted=!0,s.autoplay=!0,s.loop=!0,s.playsInline=!0,s.poster="https://sumzim.com/wp-content/uploads/2024/11/home-background.webp",s.setAttribute("preload","none");const a=document.createElement("source");a.src="https://sumzim.com/wp-content/uploads/2025/05/sz-b-roll.webm",a.type="video/webm",s.appendChild(a),e.appendChild(s)}}));t.observe({type:"largest-contentful-paint",buffered:!0})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initExpandableCardSliders):initExpandableCardSliders(),function(){function e(e=document){e.querySelectorAll(".flip-card").forEach((e=>{e.dataset.flipBound||(e.dataset.flipBound="true",e.addEventListener("click",(t=>{t.target.closest("a")||e.classList.toggle("is-flipped")})))}))}document.addEventListener("DOMContentLoaded",(()=>{e()})),window.acf&&window.acf.addAction("render_block_preview/type=flip-cards",(t=>e(t[0])))}(),document.fonts?document.fonts.ready.then((()=>{document.body.classList.add("fonts-loaded")})):window.addEventListener("load",(()=>{document.body.classList.add("fonts-loaded")})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".google-reviews__carousel").forEach((function(e){const t=e.querySelectorAll(".google-reviews__card"),s=e.querySelector(".google-reviews__nav-btn--prev"),a=e.querySelector(".google-reviews__nav-btn--next"),n=e.querySelector(".google-reviews__current"),i=parseInt(e.dataset.total);let o=0;function r(e){t.forEach((e=>e.classList.remove("active"))),t[e].classList.add("active"),n.textContent=e+1,o=e}function d(){let e=o+1;e>=i&&(e=0),r(e)}function l(){let e=o-1;e<0&&(e=i-1),r(e)}a&&a.addEventListener("click",d),s&&s.addEventListener("click",l),e.addEventListener("keydown",(function(e){"ArrowLeft"===e.key?l():"ArrowRight"===e.key&&d()}))}))})),document.addEventListener("DOMContentLoaded",backgroundContainer);class LiteYTEmbed extends HTMLElement{connectedCallback(){this.videoId=this.getAttribute("videoid");let e=this.querySelector(".lty-playbtn");if(this.playLabel=e&&e.textContent.trim()||this.getAttribute("playlabel")||"Play",this.dataset.title=this.getAttribute("title")||"",this.style.backgroundImage||(this.style.backgroundImage=`url("https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg")`,this.upgradePosterImage()),e||(e=document.createElement("button"),e.type="button",e.classList.add("lty-playbtn"),this.append(e)),!e.textContent){const t=document.createElement("span");t.className="lyt-visually-hidden",t.textContent=this.playLabel,e.append(t)}this.addNoscriptIframe(),"A"===e.nodeName&&(e.removeAttribute("href"),e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.activate())}))),this.addEventListener("pointerover",LiteYTEmbed.warmConnections,{once:!0}),this.addEventListener("focusin",LiteYTEmbed.warmConnections,{once:!0}),this.addEventListener("click",this.activate),this.needsYTApi=this.hasAttribute("js-api")||navigator.vendor.includes("Apple")||navigator.userAgent.includes("Mobi")}static addPrefetch(e,t,s){const a=document.createElement("link");a.rel=e,a.href=t,s&&(a.as=s),document.head.append(a)}static warmConnections(){LiteYTEmbed.preconnected||(LiteYTEmbed.addPrefetch("preconnect","https://www.youtube-nocookie.com"),LiteYTEmbed.addPrefetch("preconnect","https://www.google.com"),LiteYTEmbed.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),LiteYTEmbed.addPrefetch("preconnect","https://static.doubleclick.net"),LiteYTEmbed.preconnected=!0)}fetchYTPlayerApi(){window.YT||window.YT&&window.YT.Player||(this.ytApiPromise=new Promise(((e,t)=>{var s=document.createElement("script");s.src="https://www.youtube.com/iframe_api",s.async=!0,s.onload=t=>{YT.ready(e)},s.onerror=t,this.append(s)})))}async getYTPlayer(){return this.playerPromise||await this.activate(),this.playerPromise}async addYTPlayerIframe(){this.fetchYTPlayerApi(),await this.ytApiPromise;const e=document.createElement("div");this.append(e);const t=Object.fromEntries(this.getParams().entries());this.playerPromise=new Promise((s=>{let a=new YT.Player(e,{width:"100%",videoId:this.videoId,playerVars:t,events:{onReady:e=>{e.target.playVideo(),s(a)}}})}))}addNoscriptIframe(){const e=this.createBasicIframe(),t=document.createElement("noscript");t.innerHTML=e.outerHTML,this.append(t)}getParams(){const e=new URLSearchParams(this.getAttribute("params")||[]);return e.append("autoplay","1"),e.append("playsinline","1"),e}async activate(){if(this.classList.contains("lyt-activated"))return;if(this.classList.add("lyt-activated"),this.needsYTApi)return this.addYTPlayerIframe(this.getParams());const e=this.createBasicIframe();this.append(e),e.focus()}createBasicIframe(){const e=document.createElement("iframe");return e.width=560,e.height=315,e.title=this.playLabel,e.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",e.allowFullscreen=!0,e.src=`https://www.youtube-nocookie.com/embed/${encodeURIComponent(this.videoId)}?${this.getParams().toString()}`,e}upgradePosterImage(){setTimeout((()=>{const e=`https://i.ytimg.com/vi_webp/${this.videoId}/sddefault.webp`,t=new Image;t.fetchPriority="low",t.referrerpolicy="origin",t.src=e,t.onload=t=>{90==t.target.naturalHeight&&120==t.target.naturalWidth||(this.style.backgroundImage=`url("${e}")`)}}),100)}}function mobileNavControl(){var e=document.querySelector(".header__nav-button");e.addEventListener("click",(function(){var t=document.querySelector(".header__nav-button").getAttribute("aria-expanded"),s=document.querySelector("body"),a=document.querySelector(".header__nav"),n=document.querySelector(".utility-menu"),i=document.querySelector(".header__nav-button-icon-close"),o=document.querySelector(".header__nav-button-icon-menu"),r=document.querySelector(".site-header"),d=document.querySelector(".header__nav-button-span"),l=document.querySelector(".header__social");"true"==t?(t="false",a.classList.toggle("header__nav--show"),s.classList.toggle("body__no-overflow"),i.classList.toggle("header__nav-button-icon-close--show"),o.classList.toggle("header__nav-button-icon-menu--hide"),r.classList.toggle("header__nav--open"),d.classList.toggle("header__nav-button-span--open"),l.classList.toggle("header__social--navOpen"),n.classList.toggle("utility-menu--show")):(t="true",a.classList.toggle("header__nav--show"),s.classList.toggle("body__no-overflow"),i.classList.toggle("header__nav-button-icon-close--show"),o.classList.toggle("header__nav-button-icon-menu--hide"),r.classList.toggle("header__nav--open"),d.classList.toggle("header__nav-button-span--open"),l.classList.toggle("header__social--navOpen"),n.classList.toggle("utility-menu--show")),e.setAttribute("aria-expanded",t)}));var t=document.querySelectorAll(".menu-item-has-children");window.matchMedia("(max-width: 1279px")&&t.forEach((function(e){var t=document.createElement("button");t.classList.add("header__nav-button-drop"),t.innerHTML="Expand Menu",e.append(t),t.addEventListener("click",(function(){e.querySelector(".sub-menu").classList.toggle("sub-menu--show"),t.classList.toggle("header__nav-button-drop--expand-less")}))}));window.addEventListener("resize",(function(){var e=document.querySelector("body"),t=document.querySelector("header.site-header"),s=document.querySelector(".header__nav-button"),a=document.querySelector(".header__nav"),n=(document.querySelector(".header__status-message-phone-book-container"),document.querySelector(".header__status")),i=document.querySelector(".alert"),o=document.querySelector(".header__nav-button-icon-close"),r=document.querySelector(".header__nav-button-icon-menu");a.classList.contains("header__nav--show")&&window.innerWidth>1279&&(a.classList.remove("header__nav--show"),e.classList.remove("body__no-overflow"),t.classList.remove("header--static"),s.setAttribute("aria-expanded","false"),n.classList.remove("header__status--mobile"),o.classList.remove("header__nav-button-icon-close--show"),r.classList.remove("header__nav-button-icon-menu--hide"),i&&i.classList.remove("alert--hide"))}))}function minimizeHeader(){var e=document.querySelector(".alert"),t=document.querySelector(".header__content"),s=document.querySelector(".header__status-message-phone"),a=document.querySelector(".header__status-message-book"),n=document.querySelector(".header__status-message-phone-call"),i=document.querySelector(".header__brand-logo"),o=document.querySelector(".header__brand-logo-min"),r=document.querySelector(".header__badge"),d=document.querySelector(".header__nav"),l=document.querySelector(".home__section");let c=document.querySelector(".back-to-top");var u=document.querySelector(".banner__tommys-electric"),h=document.querySelector(".site-header"),m=document.querySelector(".header__call"),p=document.querySelector(".header__mobile-call"),g=document.querySelector(".header__social"),v=document.querySelector(".header-google-reviews"),y=document.querySelector(".header__nav-button");window.addEventListener("scroll",(function(){window.pageYOffset>=1?(t&&t.classList.add("header__content--min"),u&&u.classList.add("--tommys--hide"),h&&h.classList.add("header--bannerScroll"),e&&e.classList.add("alert--hide"),s&&s.classList.add("header__status-message-phone--pad"),n&&n.classList.add("header__status-message-phone-call--hide"),i&&i.classList.add("header__brand-logo--hide"),o&&o.classList.add("header__brand-logo-min--show"),r&&r.classList.add("header__badge--hide"),d&&d.classList.add("header__nav--min"),a&&a.classList.add("header__status-message-book--hide"),l&&l.classList.add("home__section--scroll"),c&&c.classList.add("back-to-top--show"),p&&p.classList.add("header__mobile-call--scroll"),m&&m.classList.add("header__call--scroll"),g&&g.classList.add("header__social--scroll"),v&&v.classList.add("header-google-reviews--scroll"),y&&y.classList.add("header__nav-button--scroll")):window.pageYOffset<=1&&(t&&t.classList.remove("header__content--min"),u&&u.classList.remove("--tommys--hide"),h&&h.classList.remove("header--bannerScroll"),e&&e.classList.remove("alert--hide"),s&&s.classList.remove("header__status-message-phone--pad"),n&&n.classList.remove("header__status-message-phone-call--hide"),i&&i.classList.remove("header__brand-logo--hide"),o&&o.classList.remove("header__brand-logo-min--show"),r&&r.classList.remove("header__badge--hide"),d&&d.classList.remove("header__nav--min"),a&&a.classList.remove("header__status-message-book--hide"),l&&l.classList.remove("home__section--scroll"),c&&c.classList.remove("back-to-top--show"),p&&p.classList.remove("header__mobile-call--scroll"),m&&m.classList.remove("header__call--scroll"),g&&g.classList.remove("header__social--scroll"),v&&v.classList.remove("header-google-reviews--scroll"),y&&y.classList.remove("header__nav-button--scroll"))}))}function time(){setInterval((()=>{const e=Intl.DateTimeFormat().resolvedOptions().timeZone,t=new Date,s=t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0,timeZone:e}),a=t.toLocaleString("en-US",{timeZone:e}),n=new Date(a).getDay(),i=t.toLocaleString("en-US",{timeZone:"America/New_York"}),o=new Date(i).getHours();document.getElementById("statusAll").innerHTML=`It's ${(e=>{let t;switch(e){case 0:t="Sunday";break;case 1:t="Monday";break;case 2:t="Tuesday";break;case 3:t="Wednesday";break;case 4:t="Thursday";break;case 5:t="Friday";break;case 6:t="Saturday";break;default:return"test"}return t})(n)} at ${s} <span class="statusBreak">and our ${((e,t)=>{const s=" on-call staff is here to assist you",a=" office is open";return 1===e||2===e||3===e||4===e||5===e?t>=7&&t<17?a:s:6===e&&t>=7&&t<12?a:s})(n,o)}</span>`;document.querySelector(".home__heroHeadline")}),1e3)}function toggle(){let e=document.querySelectorAll(".toggle-heading");if(e)for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{let s=e[t].nextElementSibling;e[t].parentElement.classList.toggle("expand"),e[t].classList.toggle("expand"),s.classList.toggle("expand")}))}customElements.define("lite-youtube",LiteYTEmbed),document.addEventListener("DOMContentLoaded",(()=>{mobileNavControl()})),document.addEventListener("DOMContentLoaded",(()=>{minimizeHeader()})),document.addEventListener("DOMContentLoaded",(()=>{time()})),document.addEventListener("DOMContentLoaded",(function(){const e=new IntersectionObserver((function(e,t){e.forEach((e=>{e.isIntersecting?e.target.classList.replace("fadeOut","fadeIn"):e.target.classList.replace("fadeIn","fadeOut")}))}),{root:null,rootMargin:"0px",threshold:.7});document.querySelectorAll(".timelineFade").forEach((t=>e.observe(t)))})),document.addEventListener("DOMContentLoaded",(()=>{toggle()}));