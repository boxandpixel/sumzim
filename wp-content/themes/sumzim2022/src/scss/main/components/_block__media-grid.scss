@use '../common/mixins' as *;
// @use '../abstracts/colors.functions' as *;
@use '../common/typography.mixins' as *;

.block__media-grid {
	// background: hsla(211 60.7% 12% / 0.1);
	display: flex;
	justify-content: center;
	// padding: 60px 0;
	margin-bottom: 60px;

	@include breakpoint(medium) {
		margin-bottom: 120px;
	}

	.interior-container {
		max-width: 100%;
		// background: red;
		display: flex;
		justify-content: center;
		flex-direction: column;
		@include content-wide;

		@include breakpoint(large) {
			width: 1200px;
			max-width: 1200px;
		}

		h2 {
			margin-left: 0;
			@include apply-type(heading-lg);
		}

		p {
			font-family: var(--font);
			font-weight: 500;
			font-size: 16px;

			@include breakpoint(medium) {
				font-size: 20px;
			}			
		}

		.media-grid {
			display: grid;
			grid-template-columns: minmax(0, 1fr);
			column-gap: 30px;
			row-gap: 60px;

			@include breakpoint(medium) {
				grid-template-columns: repeat(2, minmax(0, 1fr));
				column-gap: 30px;
				row-gap: 60px;
			}

			@include breakpoint(large) {
				grid-template-columns: repeat(3, minmax(0, 1fr));
				column-gap: 30px;
				row-gap: 60px;				
			}

			.media-grid-card {
				display: flex;
				flex-direction: column;
				padding: 0;
				// border-radius: var(--border-radius);
				overflow: hidden;
				position: relative;

				.media-grid-item {
					position: relative;
					width: 100%;
					aspect-ratio: 4 / 3;
					// border-radius: var(--border-radius);
					border-radius: 24px;
					overflow: hidden;

					.video {
						position: absolute;
						top: 0;
						left: 0;
						width: 100%;
						height: 100%;
						display: flex;
						flex-direction: column;
						align-items: center;
					}
			
					lite-youtube {
						position: absolute;
						top: 0;
						left: 0;
						width: 100%;
						height: 100%;
						max-width: 100%;
						transition: transform 0.5s ease;
					}

					img {
						position: absolute;
						top: 0;
						left: 0;
						width: 100%;
						height: 100%;
						object-fit: cover;
						transition: transform 0.5s ease;
					}

					// Gradient overlay
					&::after {
						content: '';
						position: absolute;
						bottom: 0;
						left: 0;
						width: 100%;
						height: 60%;
						// background: linear-gradient(to top, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.7) 50%, transparent 100%);
						pointer-events: none;
						z-index: 1;
						transition: opacity 0.3s ease;
					}

					// Hide gradient when video is playing
					&:has(lite-youtube.lyt-activated)::after {
						opacity: 0;
					}	
					
					// Hide description when video is playing
					&:has(.media-grid-item lite-youtube.lyt-activated) .media-grid-description {
						opacity: 0;
						pointer-events: none;
					}						
				}

				.media-grid-description {
					// position: absolute;
					// bottom: 0;
					// left: 0;
					width: 100%;
					margin-top: .5rem;
					
					& > * {
						text-align: left;
					}

					.media-grid-description__title {
						color: var(--color__primary--dark);
						@include apply-type(heading-xxs);
					}
				}

			

				// Hover effect for scaling media
				// &:hover {
				// 	.media-grid-item {
				// 		img,
				// 		lite-youtube {
				// 			transform: scale(1.1);
				// 		}
				// 	}
				// }
			}
		}
	}
}