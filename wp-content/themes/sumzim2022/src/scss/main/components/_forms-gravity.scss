.gform_wrapper {
	margin-left: auto;
	margin-right: auto;

	&:has(form.design-your-membership-form) {
		width: auto;
		max-width: 1200px;
	}
	
	form {
		&:not(.design-your-membership-form) {

			@include breakpoint(medium) {
				max-width: 800px;
				margin: 0 auto;
			}
		}
	}


	@include breakpoint(medium) {
		margin: 0 auto;
	}

	.gf_progressbar_wrapper {
		display: flex;
		flex-direction: column;
		align-items: flex-start;
		margin: 0 16px 50px 16px;
		position: relative;


		@include breakpoint(medium) {
			margin: 0 auto 75px auto;	
			// left: -15px;
		}

		.gf_progressbar_title {
			margin-bottom: 0;
			font-family: var(--font);
			font-weight: 600;
			font-size: 18px;
			color: hsla(211, 61%, 12%, 1);
		}

		.gf_progressbar {
			background: hsla(211, 61%, 12%, 0.5);
			height: 10px;
			width: 100%;
			position: relative;


			.gf_progressbar_percentage {	
				background: hsla(211, 61%, 12%, 1);
				height: 10px;

				span {
					display: none;
				}
				
			}  
			
			.percentbar_0 {
				&:before {
					content: "";
					width: 12px;
					height: 12px;
					color: var(--color__primary);
					border-radius: 24px;
					display: block;

				}
			}

			// .percentbar_100,
			// .percentbar_NaN {
			// 	span {
			// 		display: block;
			// 		text-indent: -9999rem;
			// 		background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="25" height="26" viewBox="0 0 25 26" fill="none"><circle cx="12.7074" cy="12.8813" r="12.2934" fill="white"/><path d="M8.60938 12.8817L11.5364 15.8087L17.3904 9.95471" stroke="%23002242" stroke-width="2.73186" stroke-linecap="round"/></svg>');
			// 		background-size: 25px;
			// 		width: 25px;
			// 		height: 25px;
			// 		top: -7px;
			// 		right: -40px;
			// 		transform: translateY(0);
			// 	}
			// }
		}


	}	


	.gform_heading {
		display: none;
	}

	.gform_body {

		fieldset {
			padding: 0;
			border: 0;
		}

		.gfield {
			margin: 1.5rem 0;

			.gfield_label {
				font-weight: 600;
				color: var(--color__primary);
				font-size: 14px;
				margin-bottom: 4px;

				.gfield_required {
					margin-left: 0.125rem;
				}
			}	
			
			&.disabled {
				opacity: 0.2;
			}
		}

		input[type="text"],
		input[type="tel"],
		input[type="email"],
		select{
			height: 36px;
			border-radius: 3px;
			padding-left: .5rem;
			padding-right: .5rem;
			font-size: 14px !important;
			color: #222 !important;

			&::placeholder {
				font-size: 14px;
			}
		}

		select {
			-webkit-appearance: none;
			-moz-appearance: none;
			text-indent: 1px;
			text-overflow: '';
			background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%230C1E31"><path d="M480-360 280-560h400L480-360Z"/></svg>');
			background-position: center right 8px;
			background-repeat: no-repeat;			
		}

		textarea {
			border-radius: 3px;
			padding-left: .5rem;
			padding-right: .5rem;
			font-size: 14px !important;
			color: #222 !important;
			resize: none;

			&::placeholder {
				font-size: 14px;
			}
		}
		
		input[type="checkbox"] + label {
			font-size: 14px !important;
			color: #222 !important;
		}

		.gform-field-label--type-sub {
			font-size: 12px;
			display: block;
		}

		.gfield--type-captcha {
			display: flex;
			justify-content: center;
		}

		.gfield--type-name {

			.ginput_container--name {
				display: flex;
				flex-direction: column;
				gap: 20px;

				@include breakpoint(medium) {
					display: flex;
					flex-direction: row;
					justify-content: space-between;	
					gap: 40px;
				}

				input {
					display: block;
					width: 100%;
				}

				span,
				span label {
					width: 100%;
					display: block;
					font-size: 12px;
				}
			}
		}

		.gfield--type-address {

			.ginput_container_address {
				display: grid;
				column-gap: 10px;
				row-gap: 10px;

				grid-template-areas: 
				
				"address1"
				"address2"
				"city"
				"state"
				"zip"
				;					

				@include breakpoint(medium) {
					column-gap: 40px;
					grid-template-areas: 
				
					"address1 address1"
					"address2 address2"
					"city state"
					"zip ."
					;	
				}
			
			}

			.ginput_address_line_1 {
				grid-area: address1;
				width: 100%;
			}

			.ginput_address_line_2 {
				grid-area: address2;
				width: 100%;
			}

			.ginput_address_city {
				grid-area: city;

				input {
					width: 100%;
				}
			}

			.ginput_address_state {
				grid-area: state;
				width: 100%;
				font-size: 12px;

				select {
					width: 100%;

					option {
						font-size: 12px;
					}
				}
			}

			.ginput_address_zip {
				grid-area: zip;
			}
			
			.ginput_address_line_1,
			.ginput_address_line_2 {
				display: block;
				width: 100%;

				input {
					width: 100%;
				}

				span {
					display: block;
				}
			}
		}

		.gfield--type-email {

			input {
				width: 100%;

				@include breakpoint(medium)  {
					width: 50%;
				}
			}

		}

		.gfield--type-phone {

			input {
				width: 100%;

				@include breakpoint(medium)  {
					width: 50%;
				}
			}

			.gfield_description.instruction {
				font-size: 12px;
			}

		}		
	
		input[type="submit"] {
			background: var(--color__primary);
			color: white;
			border-radius: var(--border-radius);
		}
	}

	/** validation */

	.gfield_error {
		input,select {
			border: solid 2px #c00;
		}
	}


	


	
	.gfield_validation_message {
		color: #c00;
		margin-top: 0.5rem;
		font-size: 14px;
	}	

	.hide_summary {
		display: none;
	}


}


.gform_wrapper.design-your-membership-form_wrapper {
	.gfield--type-turnstile {
		display: flex;
		justify-content: center;
	}
}

.gform_wrapper.design-your-membership-form_wrapper,
.gform_confirmation_wrapper {
	h3 {
		font-family: var(--font);
		font-size: 40px;
		font-weight: 700;
		text-align: center;
		margin-bottom: 64px;
		color: hsla(211, 61%, 12%, 1);
	}

	h4 {
		background: hsla(211, 61%, 12%, .5);
		color: white;
		text-align: center;
		height: 40px;
		line-height: 40px;
		font-family: var(--font);
		font-weight: 800;
		font-size: 18px;
		margin-bottom: 20px;

		@include breakpoint(xlarge) {
			// max-width: 300px;				
		}
	}

	fieldset {
		margin: 0;
		padding: 0;

		legend {
			display: none;
			margin: 0;
			padding: 0;
		}

		.gfield {
			margin-bottom: 20px;
			margin-top: 0;
		}
	}

	fieldset.equipment-selections-fieldset {
		display: grid;
		grid-template-columns: auto;
		grid-template-rows: masonry;
		row-gap: 30px;
		grid-template-areas: 
		"heating"
		"plumbing"
		"ac"
		"electrical"
		"additional";

		@include breakpoint(medium) {
			grid-template-columns: repeat(2, minmax(0,1fr));
			grid-template-rows: masonry;
			column-gap: 60px;
			row-gap: 30px;
			grid-template-areas: 
				"heating plumbing"
				"heating plumbing"
				"heating electrical"
				"heating electrical"
				"ac additional";				
		}


		@include breakpoint(xlarge) {
			grid-template-columns: repeat(3, minmax(0,1fr));
			grid-template-rows: masonry;
			column-gap: 100px;
			row-gap: 30px;
			grid-template-areas: 
				"heating ac plumbing"
				"heating ac plumbing"
				"heating electrical plumbing"
				"heating . additional";				
		}
			
	}

	fieldset.heating-equipment-selections-fieldset {

		// background: blue;
		grid-area: heating;
	}	

	fieldset.ac-equipment-selections-fieldset {
		// background: green;
		grid-area: ac;
	}

	fieldset.electrical-equipment-selections-fieldset {
		// background: orange;
		grid-area: electrical;
	}

	fieldset.plumbing-equipment-selections-fieldset {
		// background: purple;
		grid-area: plumbing;
	}	

	fieldset.additional-equipment-selections-fieldset {
		// background: yellow;
		grid-area: additional;

		@include breakpoint(xlarge) {
			margin-top: -150px;
		}
		
	}	
	
	fieldset.estimated-total-fieldset {
		display: flex;
		flex-direction: column;
		align-items: center;


	}

	.estimated-total {
		margin-top: 60px;
		margin-bottom: 8px;

		p {
			text-align: center;
			color: #c00;
			font-size: 16px;
			font-weight: 700;
			font-family: var(--font);
			margin-bottom: 0;
		}
	}			
	
	fieldset.estimated-totals-each-fieldset {
		display: flex;
		flex-direction: column;
		align-items: center;

	

		.estimated-total-or {
			color: #c00;
			font-size: 16px;
			font-weight: 400;
			font-family: var(--font);	
			margin: 0 15px;				
		}

		.gfield--type-number {

			display: flex;
			flex-direction: column;

			label {
				display: none;
			}
		}

		.ginput_container > input[type="text"] {
			background: none;
			border: none;
			color: #c00 !important;
			font-size: 24px !important;
			font-weight: 800;
			font-family: var(--font);	
			text-align: center;
			font-size: 12px;
			text-transform: uppercase;

			&::-webkit-inner-spin-button,
			&::-webkit-outer-spin-button {
				-webkit-appearance: none;
				margin: 0;
			}

			&[type="number"]{
				-moz-appearance: textfield;
			}

			&:focus {
				outline: none;
			}				
		}

		.gfield_description {
			display: none;
		}


	}

	fieldset.monthly-or-annually {
		display: flex;
		justify-content: center;
		margin-top: 0;
		margin-bottom: 1.5rem;

		.gfield_radio {
			display: flex;
			height: 32px;
			background: white;
			border-radius: 24px;
			position: relative;
			padding: 4px 0;
			gap: 4px;
		}				

		.gchoice {
			position: relative;
			top: -1px;

			input {
				position: absolute !important;
				clip: rect(0, 0, 0, 0);
				height: 1px;
				width: 1px;
				border: 0;
				overflow: hidden;

				&:checked + label {
					background-color: var(--color__secondary);
					box-shadow: none;
				}					
			}

			label {
				background-color: white;
				font-family: var(--font);
				color: hsla(211, 61%, 12%, 1);
				font-size: 14px;
				font-weight: 700;
				line-height: 1;
				text-align: center;
				padding: 8px 16px;
				margin-right: -1px;
				border-radius: 24px;
				// border: 1px solid rgba(0, 0, 0, 0.2);
				// box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px rgba(255, 255, 255, 0.1);
				transition: all 0.1s ease-in-out;	
				
				&:hover {
					cursor: pointer;
				}



				&:first-of-type {
					border-radius: 24px;
				}

				&:last-of-type {
					border-radius: 24px;
				}
			}
		}
	}

	fieldset.payment-options {
		display: flex;
		flex-direction: column;
		align-items: center;

		.gfield_radio {
			display: flex;
			flex-direction: column;
			gap: 20px;

			.gchoice {
				input[type="radio"] {
					opacity: 0;
					position: fixed;
					width: 0;

					& + label {
						display: block;
						padding: 16px;
						font-family: var(--font);
						color: var(--color__primary--dark);
						font-size: 18px;
						font-weight: 700;
						padding-left: 48px;
						border-radius: 8px;
						background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%230C1E31"><path d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>') white left 16px center no-repeat;
						cursor: pointer;
					}

					&:checked+label {
						color: white;
						background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ffffff"><path d="M480-280q83 0 141.5-58.5T680-480q0-83-58.5-141.5T480-680q-83 0-141.5 58.5T280-480q0 83 58.5 141.5T480-280Zm0 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>') var(--color__primary--dark) left 16px center no-repeat;
					}                              
				}
			}
		}
	}

	fieldset.additional-information-fieldset {
		width: 100%;

		@include breakpoint(medium) {
			width: 680px;
			margin: 0 auto;
		}

		& > legend {
			display: none;
		}

		fieldset > legend {
			display: block;
		}
	}

	.monthly-payment-disclaimer {
		text-align: center;
		margin-top: 36px;
		font-family: var(--font);
		font-style: italic;
		color: var(--color__primary--dark);
	}

	.monthly-total,
	.annual-total {
		display: flex;
		justify-content: center;
		margin-top: 0.5rem;

		label {
			display: none;
		}

		input[type="text"] {
			background: none;
			border: none;
			color: #c00 !important;
			font-size: 24px !important;
			font-weight: 800;
			font-family: var(--font);	
			text-align: center;
			font-size: 12px;
			text-transform: uppercase;

			&::-webkit-inner-spin-button,
			&::-webkit-outer-spin-button {
				-webkit-appearance: none;
				margin: 0;
			}

			&[type="number"]{
				-moz-appearance: textfield;
			}

			&:focus {
				outline: none;
			}	
		}
		
	}

	.gfield--type-select {

		label {
			color: black;
			font-size: 18px !important;
			font-family: var(--font);
			font-weight: 500;
		}

		select {
			width: 100%;
			border: none;

			&:focus {
				outline: none;
			}

			&[data-chosen] {
				background: var(--color__secondary);
				color: var(--color__primary--dark);
				font-weight: 700 !important;
			}
		}		

		.gfield_description {
			color: #00994D;
			font-size: 18px;
			font-family: var(--font);
			font-weight: 500;
		}
	}

	.gform_page_footer {
		display: flex;
		flex-direction: column;
		align-items: center;
		padding-top: 40px;
		gap: 20px;

		input.gform_next_button,
		input[type="submit"] {
			display: block;
			border: 0;
			border-radius: 4px;
			color: white;
			text-align: center;
			font-family: var(--font);
			font-weight: 700;
			font-size: 18px;
			text-transform: uppercase;
			background: hsla(211, 61%, 12%, 1);
			height: 40px;
			line-height: 40px;
			padding: 0 40px;
			order: 1;

			&.disabled {
				opacity: 0.5;
			}
			
		}

		input.gform_previous_button {
			order: 2;
			font-size: 18px;
			font-weight: 500;
			color: var(--color__primary--dark);
			border: 0;
			padding: 0 0 0 28px;
			margin: 0;
			background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%230C1E31"><path d="m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"/></svg>') left 0px top -2px no-repeat;

			

			&:focus {
				outline: none;
			}
		}
	}
}

.gform_confirmation_wrapper {
	width: 100%;
	font-size: 24px;
	text-align: center;
	font-weight: 500;	

	@include breakpoint(medium) {
		width: 680px;
		margin: 0 auto;
	}


}

/* Remove borders/outlines from the validation message container */
body .gform_wrapper .gform_validation_errors {
	border: none !important;
	background: none !important;
	box-shadow: none !important;
	padding: 0 !important;
	color: #c00;
	font-weight: bold;

	&:focus-visible {
		outline: none !important;
	}
}

body .gform_wrapper .validation_error {
	max-width: 800px;
	margin: 0 auto;
	border: 2px solid #c00 !important;
	border-radius: var(--border-radius);
	background: hsl(0 100% 95%);
	box-shadow: none !important;
	padding: 1rem;
	color: #c00;
	font-weight: bold;

	&:focus-visible {
		outline: none !important;
	}
}

/* Remove focus styles from fields inside validation error blocks */
body .gform_wrapper .gform_validation_errors *:focus-visible,
body .gform_wrapper .validation_error *:focus-visible {
	outline: none !important;
	box-shadow: none !important;
	border-color: inherit !important; /* optionally avoid blue border */
}
